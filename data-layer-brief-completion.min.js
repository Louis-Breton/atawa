document.addEventListener("DOMContentLoaded",(function(){let e={};function t(e,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,form:t})}function r(r,n,a,o=!1){const i=r.map((e=>document.querySelector(e))).filter(Boolean);function d(d){const c=d.target,u=Date.now();if(e[c.name]&&u-e[c.name]<6e4)return;e[c.name]=u;const p=i.filter((e=>e&&""!==e.value.trim())).length;(o&&p===r.length||!o&&p>0)&&t(n,a)}i.forEach((e=>{e&&(e.addEventListener("change",d),e.addEventListener("blur",d))}))}!function(){const e=document.querySelector("#brief-pro-date-start-desktop"),r=document.querySelector("#brief-pro-date-end-desktop"),n=document.querySelector("#brief-pro-date-start-mobile"),a=document.querySelector("#brief-pro-date-end-mobile"),o=document.querySelector("#brief-pro-date-periode"),i=document.querySelector("#brief-private-date-start-desktop"),d=document.querySelector("#brief-private-date-end-desktop"),c=document.querySelector("#brief-private-date-start-mobile"),u=document.querySelector("#brief-private-date-end-mobile"),p=document.querySelector("#brief-private-date-periode");function f(){(e&&e.value&&r&&r.value||n&&n.value&&a&&a.value||o&&o.value)&&t("add_dates","professionnel")}function l(){(i&&i.value&&d&&d.value||c&&c.value&&u&&u.value||p&&p.value)&&t("add_dates","particulier")}[e,r,n,a,o].forEach((e=>{e&&e.addEventListener("change",f)})),[i,d,c,u,p].forEach((e=>{e&&e.addEventListener("change",l)})),e&&$(e).on("apply.daterangepicker",(function(){f()})),i&&$(i).on("apply.daterangepicker",(function(){l()}))}(),function(){const r=document.querySelector("#brief-pro-budget"),n=document.querySelector("#brief-private-budget");function a(r){const n=r.target;e[n.name]||(e[n.name]=Date.now(),""!==n.value.trim()&&t("add_budget",n.name.includes("pro")?"professionnel":"particulier"))}r&&r.addEventListener("change",a),n&&n.addEventListener("change",a)}(),r(["#brief-pro-postal-code","#brief-pro-country"],"add_shipping_info","professionnel",!0),r(["#brief-private-postal-code","#brief-private-country"],"add_shipping_info","particulier",!0),r(["#brief-pro-guest","#brief-pro-surface"],"add_event_details","professionnel"),r(["#brief-private-guest","#brief-private-surface"],"add_event_details","particulier"),r(["#brief-pro-first-name","#brief-pro-last-name","#brief-pro-email","#brief-pro-phone"],"add_contact_info","professionnel",!0),r(["#brief-private-first-name","#brief-private-last-name","#brief-private-email","#brief-private-phone"],"add_contact_info","particulier",!0)}));
