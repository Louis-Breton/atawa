document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('[selectpopulate^="origine"]').forEach((e=>{const t=e.getAttribute("selectpopulate"),n=t.replace("origine","destination");!function(e,t){const n=document.querySelector(`select[selectpopulate="${e}"]`),o=document.querySelector(`.dropdown_wrapper[selectpopulate="${t}"]`),r=o.querySelector(".dropdown_list"),i=o.querySelector(".w-dropdown-toggle"),a=i.querySelector("div:first-child");function s(){i.classList.remove("w--open"),i.setAttribute("aria-expanded","false"),r.classList.remove("w--open"),r.style.opacity="0",r.style.transform="translate3d(0px, -2rem, 0px)"}n.querySelectorAll("option").forEach((e=>{const t=e.value,n=e.textContent;if(t){const e=document.createElement("a");e.href="#",e.classList.add("dropdown_link","w-dropdown-link"),e.setAttribute("data-value",t),e.setAttribute("role","menuitem"),e.textContent=n,r.appendChild(e)}})),r.addEventListener("click",(function(e){if(e.target.matches(".dropdown_link")){e.preventDefault();const t=e.target.getAttribute("data-value"),o=e.target.textContent;n.value=t,n.dispatchEvent(new Event("change")),a.textContent=o,i.classList.remove("is-error"),s()}})),n.addEventListener("change",(function(){const e=n.options[n.selectedIndex].textContent;a.textContent=e,i.classList.remove("is-error")})),document.addEventListener("click",(function(e){o.contains(e.target)||"true"!==i.getAttribute("aria-expanded")||s()})),n.addEventListener("invalid",(function(){i.classList.add("is-error")})),n.addEventListener("input",(function(){n.checkValidity()&&i.classList.remove("is-error")}))}(t,n)}))}));
