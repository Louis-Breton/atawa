document.addEventListener("DOMContentLoaded",(()=>{function e(e,t,a){const n=document.getElementById(e);if(!n)return;const r={gclid:`${t}-ads-gclid`,camp:`${t}-ads-camp`,adgroup:`${t}-ads-adgroup`,utm_term:`${t}-ads-utm-term`,utm_campaign:`${t}-ads-utm-campaign`,utm_source:`${t}-ads-utm-source`},o=function(){const e=navigator.language||navigator.userLanguage,t=navigator.userAgent;return{browserLanguage:e,deviceType:/Mobile|Android|iPhone|iPad|iPod/i.test(t)?"Mobile":"Desktop",screenResolution:`${window.screen.width}x${window.screen.height}`,languageRegion:{fr:"Français",en:"Anglais","fr-ch":"Suisse français","en-ch":"Suisse anglais",uk:"Royaume-Uni"}[window.location.pathname.split("/")[1]]||"Non spécifié"}}(),i={"browser-language":`${t}-browser-language`,"device-type":`${t}-device-type`,"screen-resolution":`${t}-screen-resolution`,"language-region":`${t}-language-region`};Object.entries(r).forEach((([e,t])=>{const r=n.querySelector(`#${t}`);r&&(r.value=a[e]||"")})),Object.entries(i).forEach((([e,t])=>{const a=n.querySelector(`#${t}`);a&&(a.value=o[e]||"")}))}function t(t,a,n){const r=document.getElementById(t);r&&r.addEventListener("submit",(()=>{e(t,a,n)}))}const a=function(){const e=new URLSearchParams(window.location.search);return{gclid:e.get("gclid")||"",camp:e.get("camp")||"",adgroup:e.get("adgroup")||"",utm_term:e.get("utm_term")||"",utm_campaign:e.get("utm_campaign")||"",utm_source:e.get("utm_source")||""}}();Object.values(a).some((e=>e))&&function(e){const t={...e,timestamp:Date.now()};localStorage.setItem("formParams",JSON.stringify(t))}(a);const n=function(){const e=JSON.parse(localStorage.getItem("formParams"))||{};return e.timestamp&&Date.now()-e.timestamp>108e5?{}:e}(),r=Object.values(a).some((e=>e))?a:n;e("wf-form-brief-pro","brief-pro",r),e("wf-form-brief-private","brief-private",r),t("wf-form-brief-pro","brief-pro",r),t("wf-form-brief-private","brief-private",r)}));
