document.addEventListener("DOMContentLoaded",(()=>{function e(e,t,o){const r=document.getElementById(e);if(r){const e={gclid:`${t}-ads-gclid`,camp:`${t}-ads-camp`,adgroup:`${t}-ads-adgroup`,utm_term:`${t}-ads-utm-term`,utm_campaign:`${t}-ads-utm-campaign`,utm_source:`${t}-ads-utm-source`};for(const[t,a]of Object.entries(e)){const e=r.querySelector(`#${a}`);e?(e.value=o[t]||"",console.log(`Rempli ${a} avec : ${o[t]}`)):console.warn(`Champ introuvable : ${a}`)}}else console.error(`Formulaire introuvable : ${e}`)}function t(t,o,r){const a=document.getElementById(t);a&&a.addEventListener("submit",(()=>{e(t,o,r)}))}const o=function(){const e=new URLSearchParams(window.location.search);return{gclid:e.get("gclid")||"",camp:e.get("camp")||"",adgroup:e.get("adgroup")||"",utm_term:e.get("utm_term")||"",utm_campaign:e.get("utm_campaign")||"",utm_source:e.get("utm_source")||""}}();Object.values(o).some((e=>e))&&function(e){const t={...e,timestamp:Date.now()};localStorage.setItem("formParams",JSON.stringify(t))}(o);const r=function(){const e=JSON.parse(localStorage.getItem("formParams"))||{};return e.timestamp&&Date.now()-e.timestamp>108e5?{}:e}(),a=Object.values(o).some((e=>e))?o:r;console.log("Paramètres utilisés pour remplir les champs :",a),e("wf-form-brief-pro","brief-pro",a),e("wf-form-brief-private","brief-private",a),t("wf-form-brief-pro","brief-pro",a),t("wf-form-brief-private","brief-private",a)}));
