document.addEventListener("DOMContentLoaded",(function(){function e(e){const t=document.querySelector('select[name="'+e+'"]');if(t){const e=new Set;t.querySelectorAll("option").forEach((t=>{e.add(t.value)}));const r=(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("fr")?["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]:["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date;for(let o=0;o<16;o++){const a=new Date(n.getFullYear(),n.getMonth()+o,1),i=r[a.getMonth()]+" "+a.getFullYear();if(!e.has(i)){const e=document.createElement("option");e.value=i,e.textContent=i,t.appendChild(e)}}}}e("brief-pro-date-periode"),e("brief-private-date-periode"),document.querySelectorAll('[selectpopulate^="origine"]').forEach((e=>{const t=e.getAttribute("selectpopulate"),r=t.replace("origine","destination");!function(e,t){const r=document.querySelector(`select[selectpopulate="${e}"]`),n=document.querySelector(`.dropdown_wrapper[selectpopulate="${t}"]`),o=n.querySelector(".dropdown_list"),a=n.querySelector(".w-dropdown-toggle"),i=a.querySelector("div:first-child");function c(){a.classList.remove("w--open"),a.setAttribute("aria-expanded","false"),o.classList.remove("w--open"),o.style.opacity="0",o.style.transform="translate3d(0px, -2rem, 0px)"}r.querySelectorAll("option").forEach((e=>{const t=e.value,r=e.textContent;if(t){const e=document.createElement("a");e.href="#",e.classList.add("dropdown_link","w-dropdown-link"),e.setAttribute("data-value",t),e.setAttribute("role","menuitem"),e.textContent=r,o.appendChild(e)}})),o.addEventListener("click",(function(e){if(e.target.matches(".dropdown_link")){e.preventDefault();const t=e.target.getAttribute("data-value"),n=e.target.textContent;r.value=t,r.dispatchEvent(new Event("change")),i.textContent=n,a.classList.remove("is-error"),c()}})),r.addEventListener("change",(function(){const e=r.options[r.selectedIndex].textContent;i.textContent=e,a.classList.remove("is-error")})),document.addEventListener("click",(function(e){n.contains(e.target)||"true"!==a.getAttribute("aria-expanded")||c()})),r.addEventListener("invalid",(function(){a.classList.add("is-error")})),r.addEventListener("input",(function(){r.checkValidity()&&a.classList.remove("is-error")}))}(t,r)})),document.querySelectorAll('[btn="check-error"]').forEach((e=>{e.addEventListener("click",(function(){const t=e.closest("form");if(!t)return;const r=t.querySelector('[date-switch="full-date"]');if(r){const e=r.querySelector('input[name="brief-private-date-start-desktop"]'),t=r.querySelector('input[name="brief-private-date-end-desktop"]'),n=r.querySelector('input[name="brief-private-date-start-mobile"]'),o=r.querySelector('input[name="brief-private-date-end-mobile"]');let a=!1;a=n&&"none"!==window.getComputedStyle(n).display?""!==n.value.trim()&&""!==o.value.trim():""!==e.value.trim()&&""!==t.value.trim();const i=r.querySelector(".form_input.is-datepicker");a?i&&i.classList.remove("is-error"):i&&i.classList.add("is-error")}}))})),document.querySelectorAll("form").forEach((e=>{e.querySelectorAll("input, textarea, select").forEach((e=>{["input","change"].forEach((t=>{e.addEventListener(t,(function(){if("checkbox"===e.type?e.checked:""!==e.value.trim()){e.classList.remove("is-error");let t=e.closest(".form_field-wrapper");if(t){t.classList.remove("is-error");const r=t.querySelector(`.form_label-error[error-label="${e.name}"]`);r&&(r.style.display="none")}}}))}))}))}))}));
