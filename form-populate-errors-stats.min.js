document.addEventListener("DOMContentLoaded",(function(){function e(e){const t=document.querySelector('select[name="'+e+'"]');if(t){const e=new Set;t.querySelectorAll("option").forEach((t=>{e.add(t.value)}));const r=(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("fr")?["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]:["January","February","March","April","May","June","July","August","September","October","November","December"],o=new Date;for(let n=0;n<16;n++){const l=new Date(o.getFullYear(),o.getMonth()+n,1),a=r[l.getMonth()]+" "+l.getFullYear();if(!e.has(a)){const e=document.createElement("option");e.value=a,e.textContent=a,t.appendChild(e)}}}}e("brief-pro-date-periode"),e("brief-private-date-periode"),document.querySelectorAll('[selectpopulate^="origine"]').forEach((e=>{const t=e.getAttribute("selectpopulate"),r=t.replace("origine","destination");!function(e,t){const r=document.querySelector(`select[selectpopulate="${e}"]`),o=document.querySelector(`.dropdown_wrapper[selectpopulate="${t}"]`),n=o.querySelector(".dropdown_list"),l=o.querySelector(".w-dropdown-toggle"),a=l.querySelector("div:first-child");function c(){l.classList.remove("w--open"),l.setAttribute("aria-expanded","false"),n.classList.remove("w--open"),n.style.opacity="0",n.style.transform="translate3d(0px, -2rem, 0px)"}r.querySelectorAll("option").forEach((e=>{const t=e.value,r=e.textContent;if(t){const e=document.createElement("a");e.href="#",e.classList.add("dropdown_link","w-dropdown-link"),e.setAttribute("data-value",t),e.setAttribute("role","menuitem"),e.textContent=r,n.appendChild(e)}})),n.addEventListener("click",(function(e){if(e.target.matches(".dropdown_link")){e.preventDefault();const t=e.target.getAttribute("data-value"),o=e.target.textContent;r.value=t,r.dispatchEvent(new Event("change")),a.textContent=o,l.classList.remove("is-error"),c()}})),r.addEventListener("change",(function(){const e=r.options[r.selectedIndex].textContent;a.textContent=e,l.classList.remove("is-error")})),document.addEventListener("click",(function(e){o.contains(e.target)||"true"!==l.getAttribute("aria-expanded")||c()})),r.addEventListener("invalid",(function(){l.classList.add("is-error")})),r.addEventListener("input",(function(){r.checkValidity()&&l.classList.remove("is-error")}))}(t,r)})),document.querySelectorAll('[btn="check-error"]').forEach((e=>{e.addEventListener("click",(function(){const t=e.closest("form");t&&t.querySelectorAll("input, textarea, select").forEach((e=>{if(e.hasAttribute("required")){let t="checkbox"===e.type?e.checked:""!==e.value.trim(),r=e.closest(".form_field-wrapper");if(t){if(e.classList.remove("is-error"),r){r.classList.remove("is-error");const t=r.querySelector(`.form_label-error[error-label="${e.name}"]`);t&&(t.style.display="none")}}else if(e.classList.add("is-error"),r){r.classList.add("is-error");const t=r.querySelector(`.form_label-error[error-label="${e.name}"]`);t&&(t.style.display="block")}}}))}))})),document.querySelectorAll("form").forEach((e=>{e.querySelectorAll("input, textarea, select").forEach((e=>{["input","change"].forEach((t=>{e.addEventListener(t,(function(){if("checkbox"===e.type?e.checked:""!==e.value.trim()){e.classList.remove("is-error");let t=e.closest(".form_field-wrapper");if(t){t.classList.remove("is-error");const r=t.querySelector(`.form_label-error[error-label="${e.name}"]`);r&&(r.style.display="none")}}}))}))}))})),document.querySelectorAll('[date-switch="full-date"]').forEach((e=>{e.addEventListener("click",(function(){const t=e.querySelector(".form_input.is-datepicker");t&&t.classList.remove("is-error");const r=e.querySelector('.form_label-error[error-label="brief-pro-date-start-desktop"]'),o=e.querySelector('.form_label-error[error-label="brief-pro-date-end-mobile"]');r&&(r.style.display="none"),o&&(o.style.display="none")}))}))}));
