document.addEventListener("DOMContentLoaded",(function(){function e(e){const r=document.querySelector('select[name="'+e+'"]');if(r){const e=new Set;r.querySelectorAll("option").forEach((r=>{e.add(r.value)}));const t=(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("fr")?["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]:["January","February","March","April","May","June","July","August","September","October","November","December"],o=new Date;for(let l=0;l<16;l++){const a=new Date(o.getFullYear(),o.getMonth()+l,1),i=t[a.getMonth()]+" "+a.getFullYear();if(!e.has(i)){const e=document.createElement("option");e.value=i,e.textContent=i,r.appendChild(e)}}}}e("brief-pro-date-periode"),e("brief-private-date-periode"),document.querySelectorAll('[btn="check-error"]').forEach((e=>{e.addEventListener("click",(function(){const r=e.closest("form");if(!r)return;r.querySelectorAll('input:not([type="radio"]), textarea, select').forEach((e=>{if(e.hasAttribute("required")){let r="checkbox"===e.type?e.checked:""!==e.value.trim(),t=e.closest(".form_field-wrapper");if(r){if(e.classList.remove("is-error"),t){t.classList.remove("is-error");const r=t.querySelector(`.form_label-error[error-label="${e.name}"]`);r&&(r.style.display="none")}}else if(e.classList.add("is-error"),t){t.classList.add("is-error");const r=t.querySelector(`.form_label-error[error-label="${e.name}"]`);r&&(r.style.display="block")}}}));const t=r.querySelector('[date-switch="full-date"]');if(t){const e=t.querySelector('input[name="brief-private-date-start-desktop"]'),r=t.querySelector('input[name="brief-private-date-end-desktop"]'),o=t.querySelector('input[name="brief-private-date-start-mobile"]'),l=t.querySelector('input[name="brief-private-date-end-mobile"]'),a=o&&"none"!==window.getComputedStyle(o).display;let i=!1;if(i=a?""!==o.value.trim()&&""!==l.value.trim():""!==e.value.trim()&&""!==r.value.trim(),i){t.classList.remove("is-error");const e=t.querySelector(`.form_label-error[error-label="brief-private-date-start-${a?"mobile":"desktop"}"]`),r=t.querySelector(`.form_label-error[error-label="brief-private-date-end-${a?"mobile":"desktop"}"]`);e&&(e.style.display="none"),r&&(r.style.display="none")}else{t.classList.add("is-error");const e=a?t.querySelector('.form_label-error[error-label="brief-private-date-start-mobile"]'):t.querySelector('.form_label-error[error-label="brief-private-date-start-desktop"]'),r=a?t.querySelector('.form_label-error[error-label="brief-private-date-end-mobile"]'):t.querySelector('.form_label-error[error-label="brief-private-date-end-desktop"]');e&&(e.style.display="block"),r&&(r.style.display="block")}}}))})),document.querySelectorAll("form").forEach((e=>{e.querySelectorAll("input, textarea, select").forEach((e=>{["input","change"].forEach((r=>{e.addEventListener(r,(function(){if("checkbox"===e.type?e.checked:""!==e.value.trim()){e.classList.remove("is-error");let r=e.closest(".form_field-wrapper");if(r){r.classList.remove("is-error");const t=r.querySelector(`.form_label-error[error-label="${e.name}"]`);t&&(t.style.display="none")}}}))}))}))}))}));
