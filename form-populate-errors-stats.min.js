document.addEventListener("DOMContentLoaded",(function(){const e=(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("fr")?["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]:["January","February","March","April","May","June","July","August","September","October","November","December"];["pro","private","agency"].forEach((t=>{!function(t){const n=document.querySelector(`select[name="${t}"]`);if(!n)return;const r=new Set([...n.options].map((e=>e.value))),o=new Date;for(let t=0;t<16;t++){const a=new Date(o.getFullYear(),o.getMonth()+t,1),i=`${e[a.getMonth()]} ${a.getFullYear()}`;if(!r.has(i)){const e=new Option(i,i);n.add(e)}}}(`brief-${t}-date-periode`)})),document.querySelectorAll("select[selectpopulate]").forEach((e=>{const t=e.getAttribute("selectpopulate");if(t.startsWith("origine")){const e=t.replace("origine","destination");!function(e,t){const n=document.querySelector(`select[selectpopulate="${e}"]`),r=document.querySelector(`.dropdown_wrapper[selectpopulate="${t}"]`);if(!n||!r)return;const o=r.querySelector(".dropdown_list"),a=r.querySelector(".w-dropdown-toggle"),i=a.querySelector("div:first-child");function s(){a.classList.remove("w--open"),a.setAttribute("aria-expanded","false"),o.classList.remove("w--open"),o.style.opacity="0",o.style.transform="translate3d(0px, -2rem, 0px)"}n.querySelectorAll("option").forEach((e=>{if(e.value){const t=document.createElement("a");t.href="#",t.classList.add("dropdown_link","w-dropdown-link"),t.setAttribute("data-value",e.value),t.setAttribute("role","menuitem"),t.textContent=e.textContent,o.appendChild(t)}})),o.addEventListener("click",(function(e){if(e.target.matches(".dropdown_link")){e.preventDefault();const t=e.target.getAttribute("data-value"),r=e.target.textContent;n.value=t,n.dispatchEvent(new Event("change")),i.textContent=r,a.classList.remove("is-error"),s()}})),n.addEventListener("change",(function(){const e=n.options[n.selectedIndex].textContent;i.textContent=e,a.classList.remove("is-error")})),document.addEventListener("click",(function(e){r.contains(e.target)||"true"!==a.getAttribute("aria-expanded")||s()})),n.addEventListener("invalid",(function(){a.classList.add("is-error")})),n.addEventListener("input",(function(){n.checkValidity()&&a.classList.remove("is-error")}))}(t,e)}}))}));
