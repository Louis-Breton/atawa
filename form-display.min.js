document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector('[form-element="container"]'),t=document.querySelector('[form-element="triggers"]'),o=t.querySelectorAll("[form-trigger]"),r={pro:document.querySelector('[form-profil="pro"]'),private:document.querySelector('[form-profil="private"]')},l=e.querySelector('[form-element="reset-btn"]'),n=document.querySelector('[form-element="wishlist"]'),s=()=>{e.style.display="none",t.style.display="block",Object.values(r).forEach((e=>{e&&(e.style.display="none")})),localStorage.removeItem("formPreference"),localStorage.removeItem("formPreferenceExpiration")},c=localStorage.getItem("formPreference");c&&r[c]&&!(()=>{const e=localStorage.getItem("formPreferenceExpiration");if(!e)return!0;return(new Date).getTime()>parseInt(e,10)})()?(e.style.display="block",t.style.display="none",Object.keys(r).forEach((e=>{r[e].style.display=e===c?"block":"none"}))):s(),o.forEach((o=>{o.addEventListener("click",(()=>{const l=o.getAttribute("form-trigger");if(l&&r[l]){e.style.display="block",t.style.display="none",Object.keys(r).forEach((e=>{r[e].style.display=e===l?"block":"none"})),localStorage.setItem("formPreference",l);const o=(new Date).getTime()+36e5;localStorage.setItem("formPreferenceExpiration",o)}}))})),l.addEventListener("click",(()=>{s()})),(()=>{if(n){const e=localStorage.getItem("wishlist");if(e){const t=JSON.parse(e);t.length>0?(n.style.display="block",console.log("Wishlist visible, nombre d'éléments :",t.length)):(n.style.display="none",console.log("Wishlist cachée car elle est vide."))}else n.style.display="none",console.log("Wishlist cachée car aucune clé 'wishlist' trouvée.")}else console.error("Élément wishlist introuvable.")})()}));
