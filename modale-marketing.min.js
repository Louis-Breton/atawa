!function(){const e=document.querySelectorAll('[modal="list"]'),o=document.querySelector('[modal="corner-banner"]'),t=document.querySelector('[modal="popup"]'),l=o?.querySelectorAll('[modal="corner-banner-element"]')||[],n=t?.querySelectorAll('[modal="popup-element"]')||[],r=document.querySelectorAll('[modal-close="corner-banner"]'),a=document.querySelectorAll('[modal-close="popup"]');let c=!1;if(!e||0===e.length)return;const s=e=>"true"===localStorage.getItem(`modals_hidden_${e}`),m=e=>{const o=localStorage.getItem(`modals_expiry_${e}`);o&&Date.now()>parseInt(o,10)&&(localStorage.removeItem(`modals_hidden_${e}`),localStorage.removeItem(`modals_expiry_${e}`))},i=(e,o="block")=>{const t=e.closest('[modal="list"]');t&&(t.style.display="block"),e.style.display=o,e.style.opacity=0;const l=performance.now(),n=o=>{const t=Math.min((o-l)/300,1);e.style.opacity=t,t<1&&requestAnimationFrame(n)};requestAnimationFrame(n)},d=(e,o)=>{((e,o)=>{e.style.opacity=1;const t=performance.now(),l=n=>{const r=Math.min((n-t)/300,1);if(e.style.opacity=1-r,r<1)requestAnimationFrame(l);else{e.style.display="none";const t=e.closest('[modal="list"]');t&&(t.style.display="none"),o&&o()}};requestAnimationFrame(l)})(o,(()=>(e=>{const o=Date.now()+1728e5;localStorage.setItem(`modals_hidden_${e}`,"true"),localStorage.setItem(`modals_expiry_${e}`,o)})(e)))},p=e=>{e.clientY<=0&&!c&&(c=!0,i(t,"flex"))};t&&n.length>0&&!s("popup")&&(m("popup"),setTimeout((()=>{c||(c=!0,i(t,"flex"))}),6e3),window.innerWidth>=768&&document.addEventListener("mouseleave",p)),o&&l.length>0&&!s("corner-banner")&&window.innerWidth>=768&&(m("corner-banner"),setTimeout((()=>{c||i(o,"block")}),5e3)),r.forEach((e=>{e.addEventListener("click",(()=>d("corner-banner",o)))})),a.forEach((e=>{e.addEventListener("click",(()=>d("popup",t)))}))}();
