!function(){const e=document.querySelectorAll('[modal="list"]'),o=document.querySelector('[modal="corner-banner"]'),t=document.querySelector('[modal="popup"]'),l=o?.querySelectorAll('[modal="corner-banner-element"]')||[],n=t?.querySelectorAll('[modal="popup-element"]')||[],r=document.querySelectorAll('[modal-close="corner-banner"]'),a=document.querySelectorAll('[modal-close="popup"]');let c,s=!1;if(!e||0===e.length)return;const m=e=>"true"===localStorage.getItem(`modals_hidden_${e}`),d=e=>{const o=localStorage.getItem(`modals_expiry_${e}`);o&&Date.now()>parseInt(o,10)&&(localStorage.removeItem(`modals_hidden_${e}`),localStorage.removeItem(`modals_expiry_${e}`))},i=(e,o="block")=>{const t=e.closest('[modal="list"]');t&&(t.style.display="block"),e.style.display=o,e.style.opacity=0;const l=performance.now(),n=o=>{const t=Math.min((o-l)/300,1);e.style.opacity=t,t<1&&requestAnimationFrame(n)};requestAnimationFrame(n)},p=(e,o)=>{((e,o)=>{e.style.opacity=1;const t=performance.now(),l=n=>{const r=Math.min((n-t)/300,1);if(e.style.opacity=1-r,r<1)requestAnimationFrame(l);else{e.style.display="none";const t=e.closest('[modal="list"]');t&&(t.style.display="none"),o&&o()}};requestAnimationFrame(l)})(o,(()=>(e=>{const o=Date.now()+1728e5;localStorage.setItem(`modals_hidden_${e}`,"true"),localStorage.setItem(`modals_expiry_${e}`,o)})(e)))},u=e=>{e.clientY<=0&&!s&&"block"!==o?.style.display&&(s=!0,i(t,"flex"))},y=()=>{clearTimeout(c),s||"block"===o?.style.display||(c=setTimeout((()=>{s=!0,i(t,"flex")}),6e4))};o&&l.length>0&&!m("corner-banner")&&window.innerWidth>=768&&(d("corner-banner"),setTimeout((()=>{s||i(o,"block")}),5e3)),t&&n.length>0&&!m("popup")&&(d("popup"),document.addEventListener("mousemove",y),document.addEventListener("keydown",y),document.addEventListener("mouseleave",u)),r.forEach((e=>{e.addEventListener("click",(()=>p("corner-banner",o)))})),a.forEach((e=>{e.addEventListener("click",(()=>p("popup",t)))}))}();
