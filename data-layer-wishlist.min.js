function handleWishlistButtons(){document.querySelectorAll('[wl-event="add_to_wishlist"]').forEach((t=>{t.dataset.wishlistHandled||(t.dataset.wishlistHandled=!0,t.addEventListener("click",(function(){const t=this.closest('[wl="product"]'),e=t.getAttribute("wl-id"),i=t.querySelector('[wl="name"]').textContent.trim(),s=t.querySelector('[wl="category"]').textContent.trim(),o=this.classList.contains("is-active"),d=o?"remove_from_wishlist":"add_to_wishlist";window.dataLayer.push({event:d,items:[{item_id:e,item_name:i,item_category:s}]}),console.log(`Produit ${o?"retiré de":"ajouté à"} la wishlist :`,{item_id:e,item_name:i,item_category:s})})))}))}function observeLazyLoadForWishlist(){new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&t.matches&&t.matches('[wl="product"]')&&handleWishlistButtons()}))}))})).observe(document.body,{childList:!0,subtree:!0})}document.addEventListener("DOMContentLoaded",(()=>{handleWishlistButtons(),observeLazyLoadForWishlist()}));
