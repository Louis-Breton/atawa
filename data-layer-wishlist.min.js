!function(){const e="wishlist";function t(e,t){0!==t.length&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,items:t.map((e=>({item_id:e.id,item_name:e.name,item_category:e.category})))}),console.log(`Produits ${"add_to_wishlist"===e?"ajoutés":"retirés"} de la wishlist :`,t))}window.addEventListener("storage",(function(i){if(i.key!==e)return;const r=function(){try{return JSON.parse(localStorage.getItem(e))||[]}catch(e){return console.error("Erreur de parsing de la wishlist :",e),[]}}(),a=i.newValue?JSON.parse(i.newValue):[];if(!Array.isArray(a))return;const n=new Set(r.map((e=>e.id))),s=new Set(a.map((e=>e.id))),o=a.filter((e=>!n.has(e.id))),d=r.filter((e=>!s.has(e.id)));o.length>0&&t("add_to_wishlist",o),d.length>0&&t("remove_from_wishlist",d)}))}();
