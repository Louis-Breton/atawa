document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll('[date-switch="wrapper"]').forEach(((e,t)=>{const r=e.querySelector('[date-switch="switch"]'),a=e.querySelector('[date-switch="full-date"]'),o=e.querySelector('[date-switch="period-date"]'),i={pro:{startDesktop:e.querySelector('[name="brief-pro-date-start-desktop"]'),endDesktop:e.querySelector('[name="brief-pro-date-end-desktop"]'),startMobile:e.querySelector('[name="brief-pro-date-start-mobile"]'),endMobile:e.querySelector('[name="brief-pro-date-end-mobile"]'),period:e.querySelector('[name="brief-pro-date-periode"]')},private:{startDesktop:e.querySelector('[name="brief-private-date-start-desktop"]'),endDesktop:e.querySelector('[name="brief-private-date-end-desktop"]'),startMobile:e.querySelector('[name="brief-private-date-start-mobile"]'),endMobile:e.querySelector('[name="brief-private-date-end-mobile"]'),period:e.querySelector('[name="brief-private-date-periode"]')}};if(!r||!a||!o)return;const d=e=>e&&"none"!==getComputedStyle(e).display,n=e=>{r.setAttribute("aria-checked",e),e?(a.style.display="none",o.style.display="block",Object.values(i).forEach((({startDesktop:e,endDesktop:t,startMobile:r,endMobile:a,period:o})=>{e&&(e.required=!1),t&&(t.required=!1),r&&(r.required=!1),a&&(a.required=!1),o&&(o.required=!0)}))):(a.style.display="block",o.style.display="none",Object.values(i).forEach((({startDesktop:e,endDesktop:t,startMobile:r,endMobile:a,period:o})=>{d(e)?(e.required=!0,r&&(r.required=!1)):d(r)&&(r.required=!0,e&&(e.required=!1)),d(t)?(t.required=!0,a&&(a.required=!1)):d(a)&&(a.required=!0,t&&(t.required=!1)),o&&(o.required=!1)})))},s=`date-switch-state-wrapper-${t}`,l="true"===sessionStorage.getItem(s);n(l);const u=()=>{const e=!("true"===r.getAttribute("aria-checked"));n(e),sessionStorage.setItem(s,e)};r.addEventListener("click",u),r.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),u())}));new MutationObserver((()=>{const e="true"===r.getAttribute("aria-checked");n(e)})).observe(document.body,{attributes:!0,subtree:!0,attributeFilter:["style","class"]})}));const e=(navigator.language||navigator.userLanguage).startsWith("fr");document.querySelectorAll('input[daterange="start"], input[daterange="end"]').forEach((t=>{$(t).daterangepicker({singleDatePicker:!0,autoUpdateInput:!1,locale:{format:e?"DD/MM/YYYY":"MM/DD/YYYY",cancelLabel:e?"Annuler":"Cancel",applyLabel:e?"Enregistrer":"Apply"}},(function(r){$(t).val(r.format(e?"DD/MM/YYYY":"MM/DD/YYYY"))}))}))}));
