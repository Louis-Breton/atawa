document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll('[date-switch="wrapper"]');e.forEach((e,t)=>{const a=e.querySelector('[date-switch="switch"]'),n=e.querySelector('[date-switch="full-date"]'),r=e.querySelector('[date-switch="input-starting-date"]'),o=e.querySelector('[date-switch="input-ending-date"]'),i=e.querySelector('[date-switch="period-date"]'),c=e.querySelector('[date-switch="periode"]');if(!a||!n||!i)return;const s=`date-switch-state-wrapper-${t}`,l=localStorage.getItem(s)==="true",d=e=>{a.setAttribute("aria-checked",e),e?(n.style.display="none",r&&(r.required=!1),o&&(o.required=!1),i.style.display="block",c&&(c.required=!0)):(n.style.display="block",r&&(r.required=!0),o&&(o.required=!0),i.style.display="none",c&&(c.required=!1))};d(l);const u=()=>{const e=a.getAttribute("aria-checked")==="true";d(!e),localStorage.setItem(s,!e)};a.addEventListener("click",u),a.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),u())})});const t=navigator.language||navigator.userLanguage,a=t.startsWith("fr");$('input[daterange="start"], input[daterange="end"]').daterangepicker({opens:"left",autoUpdateInput:!1,locale:{format:a?"DD/MM/YYYY":"MM/DD/YYYY",cancelLabel:a?"Annuler":"Cancel",applyLabel:a?"Enregistrer":"Apply"}},function(e,t){$('input[daterange="start"]').val(e.format(a?"DD/MM/YYYY":"MM/DD/YYYY")),$('input[daterange="end"]').val(t.format(a?"DD/MM/YYYY":"MM/DD/YYYY"))})});
