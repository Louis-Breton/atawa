document.addEventListener("DOMContentLoaded",(()=>{const e={pro:"Professionnel",private:"Particulier",agency:"Professionnel événementiel"};document.querySelectorAll("form[form-prefix]").forEach((t=>{const r=t.getAttribute("form-prefix");if(!r)return;[`input[name="brief-${r}-civilite"]`,`input[name="brief-${r}-last-name"]`,`select[name="brief-${r}-budget"]`,`select[name="brief-${r}-lead-role"]`,`input[name="brief-${r}-budget"]`,`input[name="brief-${r}-lead-role"]`].forEach((r=>{t.querySelectorAll(r).forEach((r=>{const o=r.getAttribute("name")||r.getAttribute("id");if(!o)return;const i="radio"===r.type||"SELECT"===r.tagName?"change":"input";r.addEventListener(i,(()=>{const i="radio"===r.type?t.querySelector(`[name="${o}"]:checked`)?.value||"":r.value;((t,r,o)=>{const i=t.getAttribute("form-prefix");if(!i)return;if(!sessionStorage.getItem("formType")){const t=e[i]||"";t&&sessionStorage.setItem("formType",t)}const n={[`brief-${i}-civilite`]:"formCivilite",[`brief-${i}-last-name`]:"formNom",[`brief-${i}-budget`]:"formBudget",[`brief-${i}-lead-role`]:"formLeadRole"}[r];n&&(o&&""!==o.trim()?sessionStorage.setItem(n,o):sessionStorage.removeItem(n))})(t,o,i)}))}))}))}));const t=document.querySelector('[role-pro="wrapper"]');t&&t.querySelectorAll("[role-value]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("role-value");t&&sessionStorage.setItem("formLeadRole",t)}))}))}));
